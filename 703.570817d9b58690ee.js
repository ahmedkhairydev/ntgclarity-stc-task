"use strict";(self.webpackChunkstc_task=self.webpackChunkstc_task||[]).push([[703],{703:(Z,l,s)=>{s.r(l),s.d(l,{HomeModule:()=>P});var c=s(6814),a=s(1919),n=s(9262),t=s(5879),p=s(6593),u=s(2403),g=s(8645),d=s(2181),f=s(3997),v=s(9773),h=s(4131),C=s(4151);function y(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item",5),t.NdJ("click",function(){const A=t.CHM(e).$implicit,R=t.oxw(2);return t.KtG(R.getProductsByCategory(A))}),t.TgZ(1,"app-button",6),t._uU(2),t.qZA()()}if(2&o){const e=i.$implicit,r=t.oxw(2);t.xp6(1),t.MGl("btnClass","h-40 text-capitalize font-16 ",r.isActiveCategory(e)?"primary":"",""),t.xp6(1),t.hij(" ",e," ")}}function x(o,i){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"mat-list",3),t.YNc(3,y,3,2,"mat-list-item",4),t.qZA()()()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.categories)}}let M=(()=>{class o{constructor(){this.productsService=(0,t.f3M)(u.su),this.router=(0,t.f3M)(n.F0),this.activatedRoute=(0,t.f3M)(n.gz),this.categories=[]}ngOnInit(){this.getCategories()}getCategories(){this.productsService.categories.subscribe(e=>this.categories=["All",...e])}getProductsByCategory(e){this.router.navigate(["."],"All"!==e?{relativeTo:this.activatedRoute,queryParams:{categoryName:e}}:{relativeTo:this.activatedRoute})}isActiveCategory(e){const r=this.activatedRoute.snapshot.queryParamMap.get("categoryName");return"All"===e&&!r||r===e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-categories"]],decls:1,vars:1,consts:[["class","d-flex align-items-center justify-content-center pt-3 px-3 w-100",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","pt-3","px-3","w-100"],[1,"overflow-auto"],["role","list",1,"d-flex","align-items-center","p-0"],["role","listitem","class","px-1 overflow-visible",3,"click",4,"ngFor","ngForOf"],["role","listitem",1,"px-1","overflow-visible",3,"click"],[3,"btnClass"]],template:function(e,r){1&e&&t.YNc(0,x,4,1,"div",0),2&e&&t.Q6J("ngIf",r.categories.length)},dependencies:[c.sg,c.O5,a.i$,a.Tg,C.r]}),o})();function T(o,i){if(1&o&&(t.TgZ(0,"div",3),t._UZ(1,"app-product",4),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Q6J("product",e)}}const F=[{path:"",component:(()=>{class o{constructor(){this.router=(0,t.f3M)(n.F0),this.activatedRoute=(0,t.f3M)(n.gz),this.productsServices=(0,t.f3M)(u.su),this.title=(0,t.f3M)(p.Dx),this.destroy$=new g.x,this.router.events.pipe((0,d.h)(e=>e instanceof n.m2),(0,f.x)(),(0,v.R)(this.destroy$)).subscribe(()=>{this.getProductsByCategory(this.activatedRoute.snapshot.queryParamMap.get("categoryName"))})}ngOnInit(){this.title.setTitle("STC E-Commerce | Home");const e=this.activatedRoute.snapshot.queryParamMap.get("categoryName");e?this.getProductsByCategory(e):this.getProducts()}getProducts(){this.productsServices.products.subscribe(e=>this.products=e)}getProductsByCategory(e){e?this.productsServices.getProductsByCategory(e).subscribe(r=>this.products=r):this.getProducts()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:4,vars:1,consts:[[1,"page-wrapper"],[1,"row","g-3"],["class","col-sm-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-lg-4","col-xl-3"],[3,"product"]],template:function(e,r){1&e&&(t._UZ(0,"app-categories"),t.TgZ(1,"div",0)(2,"div",1),t.YNc(3,T,2,1,"div",2),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",r.products))},dependencies:[c.sg,h.F,M]}),o})()}];let H=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[n.Bz.forChild(F),n.Bz]}),o})();var m=s(4723);let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,H,a.ie,m.r0,m.F8]}),o})()}}]);